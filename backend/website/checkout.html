<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Checkout</title>
</head>
<body>
    <nav class="navbar">
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="login.html">Login</a></li>
            <li><a href="order.html">Order</a></li>
            <li><a href="checkout.html">Checkout</a></li>
        </ul>
    </nav>

    <h1 style="text-align: center; margin-top: 2%;">Checkout</h1>
    <div id="cart">
        <h2>Selected Items:</h2>
        <ul id="selected-items-list">
            <!-- Selected items will be displayed here -->
        </ul>
        <p class="final-price">Total Price: <span id="total-price">UGX 0.00</span></p>
    </div>
    <script src="scripts.js"></script>
    <script>
        // Function to extract and display selected items from the URL parameters
        function displaySelectedItems() {
            const selectedItemsList = document.getElementById("selected-items-list");
            const totalPriceSpan = document.getElementById("total-price");

            const urlParams = new URLSearchParams(window.location.search);
            const selectedItems = [];

            urlParams.forEach((value, key) => {
                if (key.startsWith("item")) {
                    const quantity = urlParams.get(key.replace("item", "quantity"));
                    selectedItems.push({ item: value, quantity: quantity });
                }
            });

            if (selectedItems.length > 0) {
                let total = 0;

                selectedItems.forEach(item => {
                    const price = calculatePrice(item.item, item.quantity);
                    total += price;

                    const listItem = document.createElement("li");
                    listItem.textContent = `${item.quantity}x ${item.item} - UGX ${price.toFixed(2)}`;
                    selectedItemsList.appendChild(listItem);
                });

                totalPriceSpan.textContent = `UGX ${total.toFixed(2)}`;
            }
        }

        function calculatePrice(item, quantity) {
    const itemPrices = {
        Samosa: 500,
        Chapati: 500,
        Soda:1000,
        // Add more items and their prices here
    };

    const pricePerItem = itemPrices[item]; // Get price from itemPrices object
    if (pricePerItem !== undefined) {
        // Calculate total price
        return quantity * pricePerItem;
    }
    return 0; // Default to 0 if price is not defined
}

        // Call the function when the page loads
        displaySelectedItems();
    </script>
</body>
</html>
